<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PÅ™edplatnÃ© â€” Vyberte plÃ¡n</title>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --accent:#06b6d4; --muted:#9aa6b2; --glass: rgba(255,255,255,0.04);
      --green:#10b981; --red:#ef4444; --radius:14px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{margin:0; min-height:100vh; background:linear-gradient(180deg,#071022 0%, #081226 60%); color:#e6eef6}
    .wrap{max-width:1200px; margin:36px auto; padding:24px}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    header h1{font-size:20px;margin:0}
    header p{color:var(--muted);margin:0;font-size:13px}

    .controls{display:flex;gap:12px;align-items:center}
    .toggle{display:flex;gap:8px;align-items:center}
    .toggle button{background:transparent;border:1px solid var(--glass); padding:6px 10px;border-radius:8px;color:var(--muted);cursor:pointer}
    .toggle button.active{border-color:var(--accent); color:var(--accent); box-shadow:0 6px 20px rgba(6,182,212,0.06)}
    .shopBtn{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px 10px;border-radius:10px;color:var(--muted);cursor:pointer}

    .grid{display:grid;grid-template-columns:repeat(4,1fr);gap:18px;margin-top:18px}
    @media (max-width:980px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:560px){.grid{grid-template-columns:1fr}}

    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:20px;border-radius:var(--radius);border:1px solid rgba(255,255,255,0.03);min-height:380px;display:flex;flex-direction:column;justify-content:space-between}
    .popular{box-shadow:0 10px 30px rgba(6,182,212,0.08); border:1px solid rgba(6,182,212,0.18)}
    .plan-title{display:flex;align-items:center;gap:10px}
    .plan-title h2{margin:0;font-size:18px}
    .price{font-size:24px;margin:8px 0;color:#fff}
    .muted{color:var(--muted);font-size:13px}
    ul.features{padding-left:18px;margin:12px 0 18px;color:var(--muted)}
    ul.features li{margin:8px 0}
    .cta{display:flex;gap:10px;align-items:center}
    .btn{background:var(--accent);color:#042027;padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:600}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);font-weight:600}
    .small{font-size:13px}
    footer{margin-top:22px;color:var(--muted);font-size:13px}

    /* modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.6);display:none;align-items:center;justify-content:center;padding:20px}
    .modal{background:#031023;border-radius:12px;padding:18px;width:100%;max-width:680px;border:1px solid rgba(255,255,255,0.04)}
    .modal h3{margin:0 0 8px}
    .field{display:flex;flex-direction:column;margin-bottom:10px}
    .field label{font-size:13px;color:var(--muted);margin-bottom:6px}
    .field input, .field select{padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#e6eef6}
    .modal .actions{display:flex;gap:8px;justify-content:flex-end;margin-top:8px}

    .ribbon{background:linear-gradient(90deg,#06b6d4,#7c3aed);padding:6px 10px;border-radius:999px;color:#021216;font-weight:700;font-size:12px}
    .badge{background:rgba(255,255,255,0.03);padding:6px 8px;border-radius:10px;font-size:12px;color:var(--muted)}

    .currency-amounts{display:flex;gap:8px;flex-wrap:wrap}
    .coin{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);cursor:pointer}
    .coin.selected{box-shadow:0 6px 20px rgba(6,182,212,0.06);border-color:var(--accent)}

    .note{font-size:12px;color:var(--muted);margin-top:8px}
  </style>
  <audio id="milion-audio" src="audio/milion.mp3" preload="auto"></audio>

</button>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>PÅ™edplatnÃ© kampanÄ›</h1>
        <p>Vyberte ÃºroveÅˆ pÅ™Ã­stupu â€” od nÃ¡hledu zdarma po plnÃ½ DM pÅ™Ã­stup. K dispozici je takÃ© nÃ¡kup hernÃ­ mÄ›ny.</p>
      </div>
      <div class="controls">
        <div class="toggle" role="tablist" aria-label="Volba fakturace">
          <button id="monthlyBtn" class="active" aria-pressed="true">MÄ›sÃ­ÄnÄ›</button>
          <button id="yearlyBtn">RoÄnÄ› <span class="badge">UÅ¡etÅ™Ã­te 20%</span></button>
        </div>
        <button id="openShop" class="shopBtn" title="Koupit hernÃ­ mÄ›nu">ğŸ’° Koupit hernÃ­ mÄ›nu</button>
      </div>
    </header>

    <main>
      <div class="grid" id="plans">
        <!-- ÃšroveÅˆ PoutnÃ­k -->
        <section class="card" data-month="1" data-year="10">
          <div>
            <div class="plan-title"><h2>ğŸ“œ ÃšroveÅˆ PoutnÃ­k</h2><span class="ribbon">ZÃ¡kladnÃ­</span></div>
            <div class="price">â‚¬<span class="amount">1</span><span class="muted">/ mÄ›sÃ­c</span></div>
            <p class="muted">NÃ¡hled a zÃ¡kladnÃ­ zdroj informacÃ­ o kampani.</p>
            <ul class="features">
              <li>ZÃ¡kladnÃ­ informace o svÄ›tÄ› (bez spoilerÅ¯)</li>
              <li>VeÅ™ejnÃ© medailonky hlavnÃ­ch NPC a hrÃ¡ÄskÃ½ch postav</li>
              <li>Mapy (zÃ¡kladnÃ­ verze)</li>
              <li>Archiv sezenÃ­ â€” krÃ¡tkÃ¡ shrnutÃ­</li>
            </ul>
          </div>
          <div>
            <div class="cta">
              <button class="btn" data-plan="PoutnÃ­k">PÅ™edplatit</button>
              <button class="btn ghost small" data-buycoins>ğŸ’° Dokoupit hernÃ­ mÄ›nu</button>
            </div>
            <p class="note">DoporuÄeno pro novÃ© zÃ¡jemce a nÃ¡hodnÃ© ÄtenÃ¡Å™e.</p>
          </div>
        </section>

        <!-- ÃšroveÅˆ Dobrodruh -->
        <section class="card" data-month="5" data-year="48">
          <div>
            <div class="plan-title"><h2>ğŸ—ºï¸ ÃšroveÅˆ Dobrodruh</h2><span class="ribbon">NÃ­zkÃ¡</span></div>
            <div class="price">â‚¬<span class="amount">5</span><span class="muted">/ mÄ›sÃ­c</span></div>
            <p class="muted">Pro hrÃ¡Äe a fanouÅ¡ky, kteÅ™Ã­ chtÄ›jÃ­ vÃ­ce informacÃ­ a multimÃ©dia.</p>
            <ul class="features">
              <li>VÅ¡e z ÃšrovnÄ› PoutnÃ­k</li>
              <li>RozÅ¡Ã­Å™enÃ© info o frakcÃ­ch, magii a regionech</li>
              <li>KompletnÃ­ archiv sezenÃ­ (detailnÄ›jÅ¡Ã­ zÃ¡pisy)</li>
              <li>InteraktivnÃ­ mapy a galerie artÅ¯</li>
            </ul>
          </div>
          <div>
            <div class="cta">
              <button class="btn" data-plan="Dobrodruh">PÅ™edplatit</button>
              <button class="btn ghost small" data-buycoins>ğŸ’° Dokoupit hernÃ­ mÄ›nu</button>
            </div>
            <p class="note">SkvÄ›lÃ¡ volba pro aktivnÃ­ hrÃ¡Äe a fanouÅ¡ky.</p>
          </div>
        </section>

        <!-- ÃšroveÅˆ Å ampion -->
        <section class="card popular" data-month="12" data-year="115">
          <div>
            <div class="plan-title"><h2>âœ¨ ÃšroveÅˆ Å ampion</h2><span class="ribbon">StÅ™ednÃ­</span></div>
            <div class="price">â‚¬<span class="amount">12</span><span class="muted">/ mÄ›sÃ­c</span></div>
            <p class="muted">Pro aktivnÃ­ hrÃ¡Äe, kteÅ™Ã­ chtÄ›jÃ­ nahlÃ©dnout za oponu.</p>
            <ul class="features">
              <li>VÅ¡e z ÃšrovnÄ› Dobrodruh</li>
              <li>TajnÃ© detaily hrÃ¡ÄskÃ½ch postav</li>
              <li>DM poznÃ¡mky (mÃ­rnÃ© spoilery / hinty)</li>
              <li>Archiv NPC a exkluzivnÃ­ obsah (kouzla, pÅ™Ã­Å¡ery, pÅ™edmÄ›ty)</li>
            </ul>
          </div>
          <div>
            <div class="cta">
              <button class="btn" data-plan="Å ampion">PÅ™edplatit</button>
              <button class="btn ghost small" data-buycoins>ğŸ’° Dokoupit hernÃ­ mÄ›nu</button>
            </div>
            <p class="note">NejlepÅ¡Ã­ pomÄ›r cena vÃ½kon.</p>
          </div>
        </section>

        <!-- ÃšroveÅˆ MÃ¡g VÄ›Å¾e -->
        <section class="card" data-month="30" data-year="295">
          <div>
            <div class="plan-title"><h2>ğŸ‘‘ ÃšroveÅˆ MÃ¡g VÄ›Å¾e</h2><span class="ribbon">PrÃ©mium / DM</span></div>
            <div class="price">â‚¬<span class="amount">30</span><span class="muted">/ mÄ›sÃ­c</span></div>
            <p class="muted">Vyhrazeno pro nejvÄ›tÅ¡Ã­ zbohatlÃ­ky.</p>
            <ul class="features">
              <li>VÅ¡e z ÃšrovnÄ› Å ampion</li>
              <li>PlnÃ© DM poznÃ¡mky (plnÃ© spoilery)</li>
              <li>InteraktivnÃ­ tvorba obsahu (DM schvaluje)</li>
              <li>ZÃ¡znamy sezenÃ­, priorita Q&amp;A a dedikovanÃ¡ podpora</li>
              <li>Fennaniny nudesky</li>
            </ul>
          </div>
          <div>
            <div class="cta">
              <button class="btn" data-plan="MÃ¡g VÄ›Å¾e">PÅ™edplatit</button>
              <button class="btn ghost small" data-buycoins>ğŸ’° Dokoupit hernÃ­ mÄ›nu</button>
            </div>
            <p class="note">UpozornÄ›nÃ­: tento plÃ¡n obsahuje spoilery; pouÅ¾Ã­vejte zodpovÄ›dnÄ›.</p>
          </div>
        </section>
      </div>

      <!-- krÃ¡tkÃ½ shop / info o mÄ›nÄ› pod gridem pro mobilnÃ­ zobrazenÃ­ -->
      <div style="margin-top:18px;display:none" id="shopInline">
        <h3>Koupit hernÃ­ mÄ›nu</h3>
      </div>
    </main>

    <footer>
      <p>VÅ¡echny ceny jsou uvÃ¡dÄ›ny v eurech. RoÄnÃ­ fakturace poskytuje 20% slevu oproti souÄtu mÄ›sÃ­ÄnÃ­ch plateb.</p>
    </footer>
  </div>

  <!-- PÅ™edplatnÃ© modal -->
  <div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document">
      <h3 id="modalTitle">PÅ™edplatit</h3>
      <p class="muted" id="modalPlan">Vyberte plÃ¡n a dokonÄete platbu.</p>
      <form id="subscribeForm">
        <div class="field">
          <label for="name">JmÃ©no</label>
          <input id="name" name="name" placeholder="Jan NovÃ¡k" required />
        </div>
        <div class="field">
          <label for="email">Email</label>
          <input id="email" name="email" type="email" placeholder="jmeno@domena.cz" required />
        </div>
        <div class="field">
          <label for="planSelect">PlÃ¡n</label>
          <select id="planSelect" name="plan">
            <option>ÃšroveÅˆ PoutnÃ­k</option>
            <option>ÃšroveÅˆ Dobrodruh</option>
            <option>ÃšroveÅˆ Å ampion</option>
            <option>ÃšroveÅˆ MÃ¡g VÄ›Å¾e</option>
          </select>
        </div>
        <div class="field">
          <label for="billing">Fakturace</label>
          <select id="billing" name="billing">
            <option value="month">MÄ›sÃ­ÄnÄ›</option>
            <option value="year">RoÄnÄ›</option>
          </select>
        </div>
        <div class="actions">
          <button type="button" class="btn ghost" id="cancelModal">ZruÅ¡it</button>
          <button type="submit" class="btn" onclick="prehrajmilion()">Potvrdit a zaplatit</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Shop modal (koupÄ› hernÃ­ mÄ›ny) -->
  <div id="shopBackdrop" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document">
      <h3>Koupit hernÃ­ mÄ›nu</h3>
      <p class="muted">Vyberte balÃ­Äek hernÃ­ mÄ›ny, kterÃ½ chcete dokoupit. Tento nÃ¡kup je nezÃ¡vislÃ½ na pÅ™edplatnÃ©m.</p>

      <div class="field">
        <label>Vyberte balÃ­Äek</label>
        <div class="currency-amounts" id="coinOptions">
          <div class="coin" data-coins="100" data-price="1">100 CP â€” â‚¬1</div>
          <div class="coin" data-coins="500" data-price="4">500 CP â€” â‚¬4</div>
          <div class="coin" data-coins="1200" data-price="9">1200 CP â€” â‚¬9</div>
          <div class="coin" data-coins="3000" data-price="20">3000 CP â€” â‚¬20</div>
        </div>
      </div>

      <form id="buyCoinsForm">
        <div class="field">
          <label for="payerEmail">JmÃ©no:</label>
          <input id="payerEmail" name="payerEmail" type="email" placeholder="jmeno@domena.cz" required />
        </div>
        <div class="actions">
          <button type="button" class="btn ghost" id="cancelShop">ZruÅ¡it</button>
          <button type="submit" class="btn" onclick="prehrajmilion()">Koupit</button>
        </div>
      </form>
      <p class="note"></p>
    </div>
  </div>

  <script>
    // Billing toggle
    const monthlyBtn = document.getElementById('monthlyBtn');
    const yearlyBtn = document.getElementById('yearlyBtn');
    const planCards = document.querySelectorAll('.card');
    let billing = 'month';

    function setBilling(b){
      billing = b;
      monthlyBtn.classList.toggle('active', b==='month');
      yearlyBtn.classList.toggle('active', b==='year');
      monthlyBtn.setAttribute('aria-pressed', b==='month');
      yearlyBtn.setAttribute('aria-pressed', b==='year');

      planCards.forEach(card=>{
        const m = parseFloat(card.getAttribute('data-month'));
        const y = parseFloat(card.getAttribute('data-year'));
        const amountEl = card.querySelector('.amount');
        const priceLabel = card.querySelector('.price .muted') || card.querySelector('.muted');

        if(isNaN(m) || m===0){
          // free
          if(b==='month'){
            if(amountEl) amountEl.textContent = '0';
            if(priceLabel) priceLabel.textContent = '/ mÄ›sÃ­c';
            card.querySelector('.price').innerHTML = 'Zdarma <span class="muted">/ mÄ›sÃ­c</span>';
          } else {
            if(amountEl) amountEl.textContent = '0';
            card.querySelector('.price').innerHTML = 'Zdarma <span class="muted">/ rok</span>';
          }
        } else {
          if(b==='month'){
            if(amountEl) amountEl.textContent = m;
            if(priceLabel) priceLabel.textContent = '/ mÄ›sÃ­c';
            // ensure numeric
            const priceNode = card.querySelector('.price');
            if(priceNode && priceNode.querySelector('.amount')){
              priceNode.innerHTML = 'â‚¬<span class="amount">'+m+'</span><span class="muted">/ mÄ›sÃ­c</span>';
            }
          } else {
            if(amountEl) amountEl.textContent = y;
            if(priceLabel) priceLabel.textContent = '/ rok';
            const priceNode = card.querySelector('.price');
            if(priceNode && priceNode.querySelector('.amount')){
              priceNode.innerHTML = 'â‚¬<span class="amount">'+y+'</span><span class="muted">/ rok</span>';
            }
          }
        }
      })
    }

    monthlyBtn.addEventListener('click',()=>setBilling('month'));
    yearlyBtn.addEventListener('click',()=>setBilling('year'));

    // PÅ™edplatnÃ© modal behaviour
    const modalBackdrop = document.getElementById('modalBackdrop');
    const modalTitle = document.getElementById('modalTitle');
    const modalPlan = document.getElementById('modalPlan');
    const planButtons = document.querySelectorAll('[data-plan]');
    const planSelect = document.getElementById('planSelect');
    const billingSelect = document.getElementById('billing');

    function openModal(planName){
      modalBackdrop.style.display = 'flex';
      modalBackdrop.setAttribute('aria-hidden','false');
      modalTitle.textContent = 'PÅ™edplatit â€” ' + planName;
      modalPlan.textContent = planName + ' â€” ' + (billing === 'month' ? 'mÄ›sÃ­ÄnÃ­ fakturace' : 'roÄnÃ­ fakturace');
      if(planSelect) planSelect.value = planName;
      if(billingSelect) billingSelect.value = billing === 'month' ? 'month' : 'year';
      document.getElementById('name').focus();
    }

    function closeModal(){
      modalBackdrop.style.display = 'none';
      modalBackdrop.setAttribute('aria-hidden','true');
    }

    planButtons.forEach(btn=>{
      btn.addEventListener('click', (e)=>{
        const plan = e.currentTarget.getAttribute('data-plan');
        if(plan) openModal(plan);
      })
    })

    document.getElementById('cancelModal').addEventListener('click',closeModal);
    modalBackdrop.addEventListener('click',(e)=>{ if(e.target===modalBackdrop) closeModal(); });

    // form submit (demo)
    document.getElementById('subscribeForm').addEventListener('submit', (e)=>{
      e.preventDefault();
      const name = e.target.name.value;
      const email = e.target.email.value;
      const plan = e.target.plan.value;
      const bill = e.target.billing.value;
      alert(`DÄ›kujeme ${name}! ObdrÅ¾eli jsme poÅ¾adavek na plÃ¡n ${plan} (${bill === 'month' ? 'mÄ›sÃ­ÄnÄ›' : 'roÄnÄ›'}).`);
      closeModal();
    });

    // --- Shop (koupÄ› mÄ›ny) ---
    const shopBackdrop = document.getElementById('shopBackdrop');
    const openShopBtn = document.getElementById('openShop');
    const cancelShop = document.getElementById('cancelShop');
    const coinOptions = document.getElementById('coinOptions');
    let selectedCoin = null;

    openShopBtn.addEventListener('click', ()=>{
      shopBackdrop.style.display = 'flex';
      shopBackdrop.setAttribute('aria-hidden','false');
      document.getElementById('payerEmail').focus();
    });
    cancelShop.addEventListener('click', ()=>{
      shopBackdrop.style.display = 'none';
      shopBackdrop.setAttribute('aria-hidden','true');
    });
    shopBackdrop.addEventListener('click',(e)=>{ if(e.target===shopBackdrop) { shopBackdrop.style.display='none'; shopBackdrop.setAttribute('aria-hidden','true'); } });

    // allow coins from card buttons
    document.querySelectorAll('[data-buycoins]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        openShopBtn.click();
      })
    });

    // coin selection
    coinOptions.querySelectorAll('.coin').forEach(el=>{
      el.addEventListener('click', ()=>{
        coinOptions.querySelectorAll('.coin').forEach(c=>c.classList.remove('selected'));
        el.classList.add('selected');
        selectedCoin = {coins: el.getAttribute('data-coins'), price: el.getAttribute('data-price')};
      })
    });

    document.getElementById('buyCoinsForm').addEventListener('submit', (e)=>{
      e.preventDefault();
      const email = e.target.payerEmail.value;
      if(!selectedCoin){
        alert('Vyberte prosÃ­m balÃ­Äek mÄ›ny.');
        return;
      }
      // Demo behaviour: show confirmation. Replace with real payment flow.
      alert(`DÄ›kujeme! Na e-mail ${email} bude pÅ™ipsÃ¡no ${selectedCoin.coins} âœ´ za cenu â‚¬${selectedCoin.price}.`);
      shopBackdrop.style.display = 'none';
      shopBackdrop.setAttribute('aria-hidden','true');
    });

    // initial
    setBilling('month');

    function prehrajmilion() {
    // 1. Najde audio element podle jeho ID
    var audio = document.getElementById('milion-audio');

    // 2. Restartuje audio (pro pÅ™Ã­pad, Å¾e uÅ¾ bylo jednou pÅ™ehrÃ¡no)
    audio.currentTime = 0;

    // 3. SpustÃ­ pÅ™ehrÃ¡vÃ¡nÃ­
    audio.play()
        .then(() => {
            // PÅ™ehrÃ¡vÃ¡nÃ­ se ÃºspÄ›Å¡nÄ› spustilo
            console.log("million se spustil.");
        })
        .catch(error => {
            // PÅ™ehrÃ¡vÃ¡nÃ­ bylo zablokovÃ¡no (ÄastÃ© na mobilnÃ­ch zaÅ™Ã­zenÃ­ch bez interakce)
            console.error("Chyba pÅ™i pÅ™ehrÃ¡vÃ¡nÃ­ audia:", error);
            // MÅ¯Å¾ete zde pÅ™idat alternativnÃ­ zpÄ›tnou vazbu, napÅ™. vibraci nebo hlÃ¡Å¡ku.
        });

    // Zde by mÄ›lo pokraÄovat zpracovÃ¡nÃ­ vÃ½bÄ›ru pÅ™edplatnÃ©ho
    // napÅ™. presmerovani, odeslani formulare, AJAX dotaz na server...
    // document.getElementById('form-predplatne').submit();
}
  </script>
</body>
</html>